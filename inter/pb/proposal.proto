syntax = "proto3";

package sonic.inter.proto;

option go_package = ".;pb";

message ProposalEnvelope {
    uint64 lastSeenProposalNumber = 1;
    uint32 lastSeenProposalAttempt = 2;
    uint32 lastSeenProposalFrame = 3;
    Proposal proposal = 4;  // optional
}

// A proposal made by a validator for the content of a new block.
message Proposal {

    uint64 number = 1;

    uint32 attempt = 2;

    uint64 timestamp = 3;  // Unix nano-second timestamp
    
    bytes parent_hash = 4;

    bytes prev_randao = 5;

    repeated Transaction transactions = 6;
}

// TODO: consider moving this to a separate file
message Transaction {
    bytes encoded = 1;

    // TODO: consider encoding transaction in non-encoded format
}