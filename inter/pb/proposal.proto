syntax = "proto3";

package sonic.inter.proto;

option go_package = ".;pb";

message ProposalEnvelope {
    uint32 lastSeenProposalTurn = 1;
    uint64 lastSeenProposedBlock = 2;
    uint32 lastSeenProposalFrame = 3;
    Proposal proposal = 4;  // optional
}

// A proposal made by a validator for the content of a new block.
message Proposal {

    uint64 number = 1; // < the block number proposed

    uint64 timestamp = 2;  // Unix nano-second timestamp
    
    bytes parent_hash = 3;

    bytes prev_randao = 4;

    repeated Transaction transactions = 5;
}

// TODO: consider moving this to a separate file
message Transaction {
    bytes encoded = 1;

    // TODO: consider encoding transaction in non-encoded format
}